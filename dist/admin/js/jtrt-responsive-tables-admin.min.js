!function(t){function e(t){this.container=t,this.children=this.container.children(),this.activePage=this.container.children(".active"),this.activePageNum=this.activePage.attr("id")[8];var e=this,a=jQuery(".jt_table_steps ul");this.nextStep=function(t){"prev"===t?this.updatePageNum("down"):this.updatePageNum("up"),this.activePage.fadeOut(300,function(){jQuery(this).removeClass("active"),e.activePage=e.container.children("#jt_step_"+e.activePageNum).fadeIn(300).addClass("active")}),a.find(".jt_step_active").removeClass("jt_step_active"),a.find("li").eq(this.activePageNum-1).addClass("jt_step_active")},this.setStepPage=function(t){this.activePageNum=t,this.activePage.fadeOut(300,function(){jQuery(this).removeClass("active"),e.activePage=e.container.children("#jt_step_"+e.activePageNum).fadeIn(300).addClass("active")}),a.find(".jt_step_active").removeClass("jt_step_active"),a.find("li").eq(this.activePageNum-1).addClass("jt_step_active")},this.updatePageNum=function(t){"up"==t?(this.activePageNum++,this.activePageNum>4&&(this.activePageNum=4)):(this.activePageNum--,this.activePageNum<1&&(this.activePageNum=1))}}function a(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),i=a.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function i(){if("bootstrap"===jQuery("#jtrt_table_styles_type select").attr("data-table-style-type"))jQuery("#bootstrap_opts_jtrt fieldset ul li input").each(function(){"true"===jQuery(this).val()?s.container.addClass(jQuery(this).attr("data-bt-classes-jt")):s.container.removeClass(jQuery(this).attr("data-bt-classes-jt"))}),o="bootstrap";else if("example1"===jQuery("#jtrt_table_styles_type select").attr("data-table-style-type")){var e=t(".jtrt_example_pig").attr("class").split(" "),a=e[1];o="example,"+a}}function r(){var t=jQuery("table.jtrt_table_creator"),e=jQuery("#jtrt_table_creator_options_container"),a=["data-breakpoints","data-filtering","data-paging","data-sorting"];t.attr("data-jtrt-id",jQuery("input#post_ID").val());for(var i=0;i<a.length;i++)if("data-breakpoints"==a[i]){var r={"x-small":480,small:768,medium:992,large:1200,"x-large":1400};e.find("fieldset#data-breakpoints input").each(function(t,e){"hidden"!==jQuery(this).attr("type")&&(r[jQuery(this).attr("data-jtbp")]=parseInt(jQuery(this).val()))}),jQuery("#jtrt_hidden_tableBP").val(u(JSON.stringify(r)))}else if("data-paging"==a[i]){var n=e.find("fieldset#"+a[i]+" input#jtrt_table_allow_paging").val(),s=e.find("fieldset#"+a[i]+" input#jtrt_table_allow_paging_rowCount").val();t.attr(a[i],n),t.attr("data-paging-size",s)}else if("data-sorting"==a[i]){var n=e.find("fieldset#"+a[i]+" input").val(),s=e.find("#jtrt_table_allow_sorting_default_col").val();t.attr(a[i],n),console.log(s),t.find('thead tr.sorted_head td:not(:first-child)[data-sorted="true"]').attr("data-sorted",""),t.find("thead tr.sorted_head td:not(:first-child)").eq(s).attr("data-sorted","true")}else{var n=e.find("fieldset#"+a[i]+" input").val();t.attr(a[i],n)}e.find("")}var n=new e(jQuery(".jtrt_editor_container")),s=new JtrtTables(jQuery("table.jtrt_table_creator")),l=(jQuery(".jtrt_style_pig_bt"),new Jtrt_styles_editor(jQuery("#jt_step_3 .jtrt_options_styles"))),o="inherit";l.handleOnLoad(),l.handleOnChange(),s.updateDefaultSortColsSelect(),null!=a("post")&&n.nextStep(),jQuery(".jt_table_steps ul li").on("click",function(){var t=jQuery(this).attr("data-page-id");n.setStepPage(t)}),jQuery(".jt_step_1_btn").on("click",function(){jQuery(this).hasClass("scratch")&&n.nextStep()}),jQuery("#jt_upload_Csv").on("change",function(t){s.jtLoader("show"),s.handleCSVImport(jQuery(this)),n.nextStep()}),jQuery("div.jt_nav_container a").on("click",function(){n.nextStep(jQuery(this).attr("data-jt-steps-dir"))}),jQuery("#publish").on("click",function(t){jQuery("div#jtrt_table_container .jtrt_error_message").remove(),r(),i();var e={action:"gen_table_1",idd:jQuery("input#post_ID").val(),data:jQuery("div#jtrt_table_container").html(),table_name:jQuery("input#title").val(),table_styles:o};jQuery.post(ajaxurl,e,function(t){jQuery("#publish").click()})}),jQuery("#jtrt_short_code").html('[jtrt_tables id="'+jQuery("#post_ID").val()+'"]');var u=function(t){return String(t).replace(/"/g,"&quot;")};jQuery("#jtrt_table_creator_options_container fieldset:not(#data-breakpoints) ul li input").each(function(t,e){"true"==jQuery(this).val()&&jQuery(this).prop("checked",!0)});var d=jQuery("#jtrt_showTitle_pos").attr("data-jt-titlepos");jQuery("#jtrt_showTitle_pos").find('option[value="'+d+'"]').prop("selected",!0),jQuery("#jtrt_table_creator_options_container fieldset:not(:first-child) ul li input:not(#jtrt_table_allow_paging_rowCount)").on("click",function(){jQuery(this).val(jQuery(this).prop("checked"))}),jQuery("#jtrt_table_allow_sorting_default_col option").eq(jQuery("#jtrt_table_allow_sorting_default_col").attr("data-defcol")).prop("selected",!0),jQuery("#jtrt_generate_table_btn").on("click",function(){var t=jQuery("#jtrt_table_container").clone(),e=t.find("tr.sorted_head").clone();t.find("thead").html(e[0].outerHTML),t.find("table").addClass("jtrt_custom_html"),t.find("td.jtrt_custom_td").remove(),jQuery("#jtrt_html_code textarea").text(t[0].innerHTML),jQuery("#jtrt_html_code").fadeIn()})}(jQuery);