!function(t){function e(t){this.container=t,this.children=this.container.children(),this.activePage=this.container.children(".active"),this.activePageNum=this.activePage.attr("id")[8];var e=this,a=jQuery(".jt_table_steps ul");this.nextStep=function(t){"prev"===t?this.updatePageNum("down"):this.updatePageNum("up"),this.activePage.fadeOut(300,function(){jQuery(this).removeClass("active"),e.activePage=e.container.children("#jt_step_"+e.activePageNum).fadeIn(300).addClass("active")}),a.find(".jt_step_active").removeClass("jt_step_active"),a.find("li").eq(this.activePageNum-1).addClass("jt_step_active")},this.updatePageNum=function(t){"up"==t?(this.activePageNum++,this.activePageNum>4&&(this.activePageNum=4)):(this.activePageNum--,this.activePageNum<1&&(this.activePageNum=1))}}function a(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),r=a.exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function r(){if("bootstrap"===jQuery("#jtrt_table_styles_type select").attr("data-table-style-type"))jQuery("#bootstrap_opts_jtrt fieldset ul li input").each(function(){"true"===jQuery(this).val()?l.container.addClass(jQuery(this).attr("data-bt-classes-jt")):l.container.removeClass(jQuery(this).attr("data-bt-classes-jt"))}),o="bootstrap";else if("example1"===jQuery("#jtrt_table_styles_type select").attr("data-table-style-type")){var e=t(".jtrt_example_pig").attr("class").split(" "),a=e[1];o="example,"+a}}function i(){for(var t=jQuery("table.jtrt_table_creator"),e=jQuery("#jtrt_table_creator_options_container"),a=["data-breakpoints","data-filtering","data-paging","data-sorting"],r=0;r<a.length;r++)if("data-breakpoints"==a[r]){var i={"x-small":480,small:768,medium:992,large:1200,"x-large":1400};e.find("fieldset#data-breakpoints input").each(function(t,e){"hidden"!==jQuery(this).attr("type")&&(i[jQuery(this).attr("data-jtbp")]=parseInt(jQuery(this).val()))}),jQuery("#jtrt_hidden_tableBP").val(c(JSON.stringify(i)))}else if("data-paging"==a[r]){var n=e.find("fieldset#"+a[r]+" input#jtrt_table_allow_paging").val(),l=e.find("fieldset#"+a[r]+" input#jtrt_table_allow_paging_rowCount").val();t.attr(a[r],n),t.attr("data-paging-size",l)}else{var n=e.find("fieldset#"+a[r]+" input").val();t.attr(a[r],n)}e.find("")}var n=new e(jQuery(".jtrt_editor_container")),l=new JtrtTables(jQuery("table.jtrt_table_creator")),s=(jQuery(".jtrt_style_pig_bt"),new Jtrt_styles_editor(jQuery("#jt_step_3 .jtrt_options_styles"))),o="inherit";s.handleOnLoad(),s.handleOnChange(),null!=a("post")&&n.nextStep(),jQuery(".jt_step_1_btn").on("click",function(){jQuery(this).hasClass("scratch")&&n.nextStep()}),jQuery("#jt_upload_Csv").on("change",function(t){l.handleCSVImport(jQuery(this)),n.nextStep()}),jQuery("div.jt_nav_container a").on("click",function(){n.nextStep(jQuery(this).attr("data-jt-steps-dir"))}),jQuery("#publish").on("click",function(t){jQuery("div#jtrt_table_container .jtrt_error_message").remove(),i(),r();var e={action:"gen_table_1",idd:jQuery("input#post_ID").val(),data:jQuery("div#jtrt_table_container").html(),table_name:jQuery("input#title").val(),table_styles:o};jQuery.post(ajaxurl,e,function(t){jQuery("#publish").click()})});var c=function(t){return String(t).replace(/"/g,"&quot;")};jQuery("#jtrt_table_creator_options_container fieldset:not(#data-breakpoints) ul li input").each(function(t,e){"true"==jQuery(this).val()&&jQuery(this).prop("checked",!0)});var u=jQuery("#jtrt_showTitle_pos").attr("data-jt-titlepos");jQuery("#jtrt_showTitle_pos").find('option[value="'+u+'"]').prop("selected",!0),jQuery("#jtrt_table_creator_options_container fieldset:not(:first-child) ul li input:not(#jtrt_table_allow_paging_rowCount)").on("click",function(){jQuery(this).val(jQuery(this).prop("checked"))}),t(".jtrt_table_creator").sortable({containerSelector:"table",itemPath:"> tbody",itemSelector:"tr:not(:last-child)",placeholder:'<tr class="placeholder"/>',onDrop:function(t,e,a){l.recountRows(),t.removeClass("moving")},onDragStart:function(t,e,a){t.addClass("moving")}});var d;t("tr.sorted_head").sortable({containerSelector:"tr",itemSelector:"td:not(:first-child)",placeholder:'<td class="placeholder"/>',vertical:!1,exclude:".jtrt_custom_td",onDragStart:function(t,e,a){d=t.index(),t.appendTo(t.parent()),a(t,e)},onDrop:function(e,a,r){var i=e.index();0!=i&&(i!=d&&e.closest("table").find("tbody tr").each(function(e,a){a=t(a),d>i?a.children().eq(i).before(a.children()[d]):i>d&&a.children().eq(i).after(a.children()[d])}),r(e,a))}})}(jQuery);